<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8"/>
  <title>Perfumería</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Cinzel:wght@700&family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <!-- Iconos de Bootstrap para el carrito -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <style>
    :root {
      --main-bg: #18122B;
      --card-bg: #231942;
      --accent: #8ec5fc;
      --accent2: #e0c3fc;
      --text-main: #f8fafc;
      --text-secondary: #b7a7d9;
      --shadow: 0 6px 32px rgba(60,40,90,0.18);
      --shadow-hover: 0 12px 36px rgba(60,40,90,0.28);
    }
    body {
      background: linear-gradient(135deg, #18122B 0%, #231942 100%);
      font-family: 'Poppins', Arial, sans-serif;
      margin: 0;
      padding: 0;
      color: var(--text-main);
      min-height: 100vh;
    }
    /* Títulos y logo con fuente Cinzel y más destacados */
    .logo,
    .hero-title,
    .catalogo-title,
    .about-title,
    .contact-title,
    .perfume-nombre {
      font-family: 'Cinzel', 'Playfair Display', serif !important;
      letter-spacing: 2px;
      font-weight: 700;
      text-transform: uppercase;
      color: var(--accent2);
      text-shadow: 0 2px 12px #0004, 0 1px 0 #fff2;
    }
    .logo {
      font-size: 2.3rem;
      color: var(--accent2);
      letter-spacing: 4px;
      text-decoration: none;
      font-weight: 700;
      text-shadow: 0 4px 18px #0006, 0 1px 0 #fff2;
      transition: color 0.2s;
    }
    .logo:hover {
      color: var(--accent);
    }
    .hero-title {
      font-size: 3.2rem;
      margin-bottom: 1.2rem;
    }
    .catalogo-title {
      font-size: 2.4rem;
      margin-bottom: 1.5rem;
    }
    .about-title {
      font-size: 2.1rem;
      margin-bottom: 1rem;
    }
    .contact-title {
      font-size: 1.8rem;
      margin-bottom: 1rem;
    }
    .perfume-nombre {
      font-size: 1.3rem;
      margin-bottom: 0.3rem;
      color: var(--accent);
      text-shadow: 0 2px 8px #0002;
    }
    nav {
      background: #1a1530e6;
      box-shadow: 0 2px 8px rgba(0,0,0,0.18);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2.5rem;
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(6px);
    }
    .menu-links {
      display: flex;
      gap: 2rem;
      align-items: center;
    }
    .menu-links a {
      color: var(--text-main);
      text-decoration: none;
      font-weight: 700;
      font-size: 1.1rem;
      transition: color 0.2s;
      position: relative;
    }
    .menu-links a::after {
      content: '';
      display: block;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      transition: width .3s;
      margin-top: 2px;
    }
    .menu-links a:hover {
      color: var(--accent2);
    }
    .menu-links a:hover::after {
      width: 100%;
    }
    .cart-icon {
      font-size: 1.7rem;
      color: var(--accent);
      position: relative;
      cursor: pointer;
      margin-left: 1.5rem;
      transition: color 0.2s;
    }
    .cart-icon:hover {
      color: var(--accent2);
    }
    .cart-badge {
      position: absolute;
      top: -8px;
      right: -10px;
      background: var(--accent2);
      color: #231942;
      border-radius: 50%;
      font-size: 0.8rem;
      padding: 2px 7px;
      font-weight: bold;
      border: 2px solid #18122B;
    }
    /* Portada Hero */
    .hero {
      background: linear-gradient(120deg, #8ec5fc22 0%, #e0c3fc22 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 55vh;
      text-align: center;
      padding: 3rem 1rem 2rem 1rem;
      position: relative;
      overflow: hidden;
    }
    .hero-desc {
      font-size: 1.3rem;
      color: var(--text-secondary);
      margin-bottom: 2.2rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      text-shadow: 0 2px 8px #0002;
    }
    .hero-btn {
      background: linear-gradient(90deg, var(--accent2) 0%, var(--accent) 100%);
      color: #231942;
      border: none;
      border-radius: 10px;
      padding: 0.9rem 2.2rem;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 16px #0002;
      transition: background 0.2s, color 0.2s, transform 0.15s;
    }
    .hero-btn:hover {
      background: linear-gradient(90deg, var(--accent) 0%, var(--accent2) 100%);
      color: #fff;
      transform: scale(1.04);
    }
    /* Catálogo tipo tarjetas */
    .catalogo-section {
      max-width: 1300px;
      margin: 0 auto;
      padding: 2.5rem 1rem 3rem 1rem;
    }
    .catalogo-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 2rem;
    }
    .perfume-card {
      background: var(--card-bg);
      border-radius: 18px;
      box-shadow: var(--shadow);
      padding: 1.5rem 1.2rem 1.2rem 1.2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.18s, box-shadow 0.18s;
      position: relative;
      border: 1.5px solid #8ec5fc22;
    }
    .perfume-card:hover {
      transform: translateY(-7px) scale(1.03);
      box-shadow: var(--shadow-hover);
      border-color: var(--accent2);
    }
    .perfume-img {
      width: 110px;
      height: 140px;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 1.1rem;
      box-shadow: 0 2px 12px #0003;
      background: #f7f7fa11;
      border: 2px solid #8ec5fc22;
    }
    .perfume-marca {
      color: var(--accent2);
      font-size: 1rem;
      margin-bottom: 0.2rem;
      text-align: center;
    }
    .perfume-categoria {
      color: var(--text-secondary);
      font-size: 0.95rem;
      margin-bottom: 0.7rem;
      text-align: center;
    }
    .perfume-precio {
      font-size: 1.15rem;
      color: var(--accent);
      font-weight: bold;
      margin-bottom: 0.5rem;
    }
    .perfume-stock {
      font-size: 0.98rem;
      color: #b7a7d9;
      margin-bottom: 1rem;
    }
    .btn-agregar {
      background: linear-gradient(90deg, var(--accent2) 0%, var(--accent) 100%);
      color: #231942;
      border: none;
      border-radius: 8px;
      padding: 0.6rem 1.3rem;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      box-shadow: 0 2px 8px #0002;
    }
    .btn-agregar:hover {
      background: linear-gradient(90deg, var(--accent) 0%, var(--accent2) 100%);
      color: #fff;
    }
    /* Sección Sobre Nosotros */
    .about-section {
      background: linear-gradient(120deg, #231942 60%, #8ec5fc11 100%);
      padding: 3rem 1rem 2.5rem 1rem;
      text-align: center;
    }
    .about-text {
      color: var(--text-secondary);
      font-size: 1.15rem;
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.7;
    }
    /* Sección Contacto */
    .contact-section {
      background: #18122B;
      padding: 2.5rem 1rem 2rem 1rem;
      text-align: center;
    }
    .contact-form {
      max-width: 420px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .contact-form input,
    .contact-form textarea {
      background: #231942;
      border: 1.5px solid #8ec5fc44;
      border-radius: 7px;
      color: var(--text-main);
      padding: 0.7rem 1rem;
      font-size: 1rem;
      resize: none;
      outline: none;
      transition: border 0.2s;
    }
    .contact-form input:focus,
    .contact-form textarea:focus {
      border-color: var(--accent2);
    }
    .contact-form button {
      background: linear-gradient(90deg, var(--accent2) 0%, var(--accent) 100%);
      color: #231942;
      border: none;
      border-radius: 8px;
      padding: 0.7rem 1.3rem;
      font-size: 1.05rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      box-shadow: 0 2px 8px #0002;
    }
    .contact-form button:hover {
      background: linear-gradient(90deg, var(--accent) 0%, var(--accent2) 100%);
      color: #fff;
    }
    /* Footer */
    footer {
      background: #231942;
      color: #b7a7d9;
      text-align: center;
      padding: 1.2rem 0 0.7rem 0;
      font-size: 1rem;
      letter-spacing: 1px;
    }
    /* Estilos del carrito lateral */
    .cart-panel {
      position: fixed;
      top: 0; right: -420px;
      width: 370px;
      height: 100vh;
      background: #231942;
      box-shadow: -4px 0 32px #0007;
      z-index: 1001;
      transition: right 0.35s cubic-bezier(.7,0,.3,1);
      display: flex;
      flex-direction: column;
      padding: 0;
      color: #fff;
    }
    .cart-panel.open { right: 0; }
    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.2rem 1.5rem 1rem 1.5rem;
      border-bottom: 1.5px solid #8ec5fc33;
      background: #1a1530e6;
    }
    .cart-title {
      font-family: 'Cinzel', 'Playfair Display', serif;
      font-size: 1.3rem;
      color: var(--accent2);
      letter-spacing: 2px;
      font-weight: 700;
      text-transform: uppercase;
    }
    .cart-close {
      background: none;
      border: none;
      color: #fff;
      font-size: 2rem;
      cursor: pointer;
      line-height: 1;
      transition: color 0.2s;
    }
    .cart-close:hover { color: var(--accent2); }
    .cart-items {
      flex: 1;
      overflow-y: auto;
      padding: 1.2rem 1.5rem;
    }
    .cart-empty {
      color: #b7a7d9;
      text-align: center;
      margin-top: 2rem;
      font-size: 1.1rem;
    }
    .cart-item {
      display: flex;
      align-items: center;
      margin-bottom: 1.1rem;
      gap: 1rem;
      border-bottom: 1px solid #8ec5fc22;
      padding-bottom: 0.7rem;
    }
    .cart-item-img {
      width: 55px; height: 70px;
      object-fit: cover;
      border-radius: 7px;
      border: 1.5px solid #8ec5fc33;
      background: #fff1;
    }
    .cart-item-info {
      flex: 1;
    }
    .cart-item-nombre {
      font-family: 'Cinzel', 'Playfair Display', serif;
      font-size: 1.05rem;
      color: var(--accent2);
      font-weight: 700;
      margin-bottom: 2px;
    }
    .cart-item-precio {
      color: var(--accent);
      font-size: 1rem;
      font-weight: bold;
    }
    .cart-item-cantidad {
      font-size: 0.95rem;
      color: #b7a7d9;
      margin-top: 2px;
    }
    .cart-item-remove {
      background: none;
      border: none;
      color: #e57373;
      font-size: 1.3rem;
      cursor: pointer;
      margin-left: 0.5rem;
      transition: color 0.2s;
    }
    .cart-item-remove:hover { color: #ff1744; }
    .cart-footer {
      border-top: 1.5px solid #8ec5fc33;
      padding: 1.1rem 1.5rem;
      background: #1a1530e6;
      display: flex;
      flex-direction: column;
      gap: 0.7rem;
    }
    .cart-total {
      font-size: 1.15rem;
      color: var(--accent2);
      font-weight: bold;
      margin-bottom: 0.5rem;
    }
    .cart-pay-btn {
      background: linear-gradient(90deg, var(--accent2) 0%, var(--accent) 100%);
      color: #231942;
      border: none;
      border-radius: 8px;
      padding: 0.7rem 1.3rem;
      font-size: 1.08rem;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      box-shadow: 0 2px 8px #0002;
    }
    .cart-pay-btn:hover {
      background: linear-gradient(90deg, var(--accent) 0%, var(--accent2) 100%);
      color: #fff;
    }
    .cart-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      background: #0007;
      z-index: 1000;
      transition: opacity 0.3s;
    }
    .cart-overlay.open { display: block; }
    @media (max-width: 700px) {
      nav {
        flex-direction: column;
        gap: 0.7rem;
        padding: 1rem 0.7rem;
      }
      .hero-title {
        font-size: 2.1rem;
      }
      .catalogo-title {
        font-size: 1.3rem;
      }
      .catalogo-container {
        grid-template-columns: 1fr;
        padding: 1rem 0.2rem 2rem 0.2rem;
      }
      .cart-panel {
        width: 100vw;
        right: -100%;
      }
      .cart-panel.open {
        right: 0;
      }
    }
  </style>
</head>
<body>
  <!-- Menú superior -->
  <nav>
    <a href="#" class="logo">Prestige Parfums</a>
    <div class="menu-links">
      <a href="#hero">Inicio</a>
      <a href="#catalogo">Catálogo</a>
      <a href="#about">Sobre Nosotros</a>
      <a href="#contact">Contacto</a>
      <span class="cart-icon">
        <i class="bi bi-bag"></i>
        <span class="cart-badge" id="cart-count">0</span>
      </span>
    </div>
  </nav>
  <!-- Portada Hero -->
  <section class="hero" id="hero">
    <h1 class="hero-title">Perfumes de Lujo, Experiencias Únicas</h1>
    <div class="hero-desc">
      Descubre fragancias exclusivas y sofisticadas para cada ocasión. <br>
      Elige tu aroma, destaca tu esencia.
    </div>
    <a href="#catalogo"><button class="hero-btn"><i class="bi bi-bag-heart"></i> Ver Catálogo</button></a>
  </section>
  <!-- Catálogo -->
  <section class="catalogo-section" id="catalogo">
    <h2 class="catalogo-title">Catálogo de Perfumes Exclusivos</h2>
    <div class="catalogo-container">
      <div class="perfume-card" th:each="p : ${perfumes}">
        <img class="perfume-img" th:src="@{/img/61U1E3ajy0L._UF350,350_QL80_.jpg}" alt="Perfume" />
        <div class="perfume-nombre" th:text="${p.nombre}">Nombre</div>
        <div class="perfume-marca" th:text="${p.marca.nombre}">Marca</div>
        <div class="perfume-categoria" th:text="${p.categoria.nombre}">Categoría</div>
        <div class="perfume-precio" th:text="'$' + ${#numbers.formatDecimal(p.precio, 0, 'COMMA', 0, 'POINT')}">Precio</div>
        <div class="perfume-stock" th:text="'Stock: ' + ${p.stock}">Stock</div>
        <button class="btn-agregar" type="button">
          <i class="bi bi-cart-plus"></i> Agregar al carrito
        </button>
      </div>
    </div>
  </section>
  <!-- Sobre Nosotros -->
  <section class="about-section" id="about">
    <h2 class="about-title">Sobre Nosotros</h2>
    <div class="about-text">
      En <b>Prestige Parfums</b> nos apasiona el arte de la perfumería. Seleccionamos las mejores marcas y fragancias para ofrecerte una experiencia sensorial única. <br>
      Nuestro equipo está comprometido con la calidad, la autenticidad y la atención personalizada. <br>
      ¡Déjate sorprender por nuestro catálogo y encuentra tu aroma ideal!
    </div>
  </section>
  <!-- Contacto -->
  <section class="contact-section" id="contact">
    <h2 class="contact-title">Contáctanos</h2>
    <form class="contact-form" autocomplete="off">
      <input type="text" placeholder="Nombre" required>
      <input type="email" placeholder="Correo electrónico" required>
      <textarea rows="4" placeholder="Tu mensaje" required></textarea>
      <button type="submit"><i class="bi bi-send"></i> Enviar</button>
    </form>
  </section>
  <!-- Carrito de compras lateral -->
  <div id="cart-panel" class="cart-panel">
    <div class="cart-header">
      <span class="cart-title"><i class="bi bi-bag"></i> Tu Carrito</span>
      <button class="cart-close" onclick="closeCart()">&times;</button>
    </div>
    <div class="cart-items" id="cart-items">
      <div class="cart-empty">Tu carrito está vacío.</div>
    </div>
    <div class="cart-footer">
      <div class="cart-total">Total: <span id="cart-total">$0</span></div>
      <button class="cart-pay-btn" onclick="pagarCarrito()">Pagar</button>
    </div>
  </div>
  <div id="cart-overlay" class="cart-overlay" onclick="closeCart()"></div>
  <footer>
    &copy; 2025 Prestige Parfums. Todos los derechos reservados.
  </footer>
  <!-- Script para simular el contador del carrito -->
  <script>
    // Simulación simple de agregar al carrito (solo frontend)
    let count = 0;
    document.querySelectorAll('.btn-agregar').forEach(btn => {
      btn.addEventListener('click', () => {
        count++;
        document.getElementById('cart-count').textContent = count;
      });
    });
    // Scroll suave para los enlaces del menú
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          e.preventDefault();
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
    // Simulación de envío de formulario de contacto
    document.querySelector('.contact-form').addEventListener('submit', function(e) {
      e.preventDefault();
      alert('¡Gracias por contactarnos! Pronto te responderemos.');
      this.reset();
    });
    // Carrito de compras simple (solo frontend)
    let cart = [];

    // Abrir/cerrar panel
    document.querySelector('.cart-icon').onclick = openCart;
    function openCart() {
      document.getElementById('cart-panel').classList.add('open');
      document.getElementById('cart-overlay').classList.add('open');
      renderCart();
    }
    function closeCart() {
      document.getElementById('cart-panel').classList.remove('open');
      document.getElementById('cart-overlay').classList.remove('open');
    }

    // Agregar al carrito
    document.querySelectorAll('.btn-agregar').forEach((btn, idx) => {
      btn.addEventListener('click', function() {
        // Obtener datos del producto desde la tarjeta
        const card = btn.closest('.perfume-card');
        const nombre = card.querySelector('.perfume-nombre').innerText;
        const precio = parseFloat(card.querySelector('.perfume-precio').innerText.replace('$','').replace(',',''));
        const img = card.querySelector('.perfume-img').getAttribute('src');
        // Buscar si ya está en el carrito
        let item = cart.find(p => p.nombre === nombre);
        if(item) {
          item.cantidad += 1;
        } else {
          cart.push({ nombre, precio, img, cantidad: 1 });
        }
        updateCartCount();
        renderCart();
      });
    });

    // Renderizar carrito
    function renderCart() {
      const itemsDiv = document.getElementById('cart-items');
      itemsDiv.innerHTML = '';
      if(cart.length === 0) {
        itemsDiv.innerHTML = '<div class="cart-empty">Tu carrito está vacío.</div>';
      } else {
        cart.forEach((item, i) => {
          const div = document.createElement('div');
          div.className = 'cart-item';
          div.innerHTML = `
            <img class="cart-item-img" src="${item.img}" alt="">
            <div class="cart-item-info">
              <div class="cart-item-nombre">${item.nombre}</div>
              <div class="cart-item-precio">$${item.precio.toLocaleString()}</div>
              <div class="cart-item-cantidad">Cantidad: ${item.cantidad}</div>
            </div>
            <button class="cart-item-remove" title="Quitar" onclick="removeCartItem(${i})">&times;</button>
          `;
          itemsDiv.appendChild(div);
        });
      }
      updateCartTotal();
    }

    // Quitar producto
    function removeCartItem(idx) {
      cart.splice(idx, 1);
      updateCartCount();
      renderCart();
    }

    // Actualizar contador
    function updateCartCount() {
      let count = cart.reduce((acc, item) => acc + item.cantidad, 0);
      document.getElementById('cart-count').textContent = count;
    }

    // Actualizar total
    function updateCartTotal() {
      let total = cart.reduce((acc, item) => acc + item.precio * item.cantidad, 0);
      document.getElementById('cart-total').textContent = '$' + total.toLocaleString();
    }

    // Simular pago
    function pagarCarrito() {
      if(cart.length === 0) {
        alert('El carrito está vacío.');
        return;
      }
      alert('¡Gracias por tu compra! (Simulación)');
      cart = [];
      updateCartCount();
      renderCart();
      closeCart();
    }
  </script>
</body>
</html>
